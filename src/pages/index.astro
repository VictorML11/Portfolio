---
import Layout from "../layouts/Layout.astro";
import Section from "../components/Section.astro"; // Keep for layout, but we'll use the new Header inside
import SectionHeader from "../components/SectionHeader.astro"; // NEW
import Badge from "../components/Badge.astro";
import Header from "../components/Header.astro";
import SpaceFigures from "../components/SpaceFigures.astro";
import DrawingGraphic from "../components/DrawingGraphic.astro";
import { Image } from "astro:assets";
import profileImg from "../assets/victor.jpg";
import SatelliteGraphic from "../components/SatelliteGraphic.astro";
import AstronautGraphic from "../components/AstronautGraphic.astro";
import StarshipSystem from "../components/StarshipSystem.astro";

const skills = [
	"Java 21",
	"Spring Boot",
	"Micronaut",
	"Kafka",
	"Docker",
	"Kubernetes",
	"AWS",
	"PostgreSQL",
	"Reactive Programming",
];

const experience = [
	{
		role: "Software Engineer",
		company: "Current Company",
		date: "Present",
		desc: "Architecting scalable microservices in the Java ecosystem. Focusing on clean architecture and high-performance distributed systems.",
	},
	{
		role: "Backend Developer",
		company: "Previous Role",
		date: "2022 - 2024",
		desc: "Developed robust APIs and integrated cloud solutions.",
	},
];
---

<Layout title="Victor Maestro Lara | Software Engineer">
	<Header />

	<div
		class="fixed top-0 left-1/2 -translate-x-1/2 w-[800px] h-[600px] bg-purple-900/20 rounded-full blur-[120px] -z-10 pointer-events-none"
	>
	</div>

	<StarshipSystem />

	<SpaceFigures />

	<div
		class="absolute bottom-32 right-[5%] w-24 h-24 animate-float"
		style="animation-delay: 2s"
	>
		<SatelliteGraphic />
	</div>
	<div
		class="absolute top-1/2 left-4 w-20 h-20 animate-float"
		style="animation-delay: 4s"
	>
		<AstronautGraphic />
	</div>

	<main class="pt-20">
		<section
			id="top"
			class="min-h-[90vh] flex flex-col justify-center items-center text-center relative overflow-hidden"
		>
			<div class="absolute top-10 right-10 md:right-1/4 -z-10 opacity-80">
				<DrawingGraphic />
			</div>

			<div class="animate-fade-in-down duration-1000 relative">
				<div
					class="relative w-40 h-40 mx-auto mb-10 flex items-center justify-center"
				>
					<div
						class="absolute inset-[-4px] rounded-full bg-gradient-to-r from-cyan-500 via-purple-500 to-amber-500 animate-spin-slow opacity-70 blur-sm"
					>
					</div>
					<div
						class="absolute inset-0 rounded-full bg-black m-[2px] z-0"
					>
					</div>
					<div
						class="relative w-full h-full rounded-full overflow-hidden border-2 border-white/10 z-10"
					>
						<Image
							src={profileImg}
							alt="Victor Maestro Lara"
							class="w-full h-full object-cover hover:scale-110 transition-transform duration-700"
						/>
					</div>
				</div>
			</div>

			<h1
				class="text-5xl md:text-7xl font-thin tracking-tight mb-6 animate-fade-in-up duration-1000 delay-200"
			>
				Victor Maestro <span
					class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-400"
					>Lara</span
				>
			</h1>

			<p
				class="text-lg md:text-2xl text-gray-300 font-light max-w-xl mx-auto leading-relaxed animate-fade-in-up duration-1000 delay-300"
			>
				Building the <span class="text-cyan-300 font-medium"
					>backend infrastructure</span
				> of tomorrow.
				<br />
				<span class="text-sm text-gray-500 mt-2 block font-mono"
					>Java Ecosystem • Cloud Native • Distributed Systems</span
				>
			</p>

			<div
				class="mt-10 flex gap-6 justify-center animate-fade-in duration-1000 delay-500"
			>
				<a
					href="https://github.com/VictorML11"
					target="_blank"
					class="group p-3 rounded-full bg-white/5 border border-white/10 hover:border-cyan-400/50 transition-all hover:shadow-[0_0_15px_rgba(34,211,238,0.3)]"
				>
					<svg
						class="w-6 h-6 text-gray-300 group-hover:text-cyan-400 transition-colors"
						fill="currentColor"
						viewBox="0 0 24 24"
						aria-hidden="true"
						><path
							fill-rule="evenodd"
							d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
							clip-rule="evenodd"></path></svg
					>
				</a>
				<a
					href="https://es.linkedin.com/in/v%C3%ADctor-maestro-lara-0aa7a3167"
					target="_blank"
					class="group p-3 rounded-full bg-white/5 border border-white/10 hover:border-purple-400/50 transition-all hover:shadow-[0_0_15px_rgba(192,132,252,0.3)]"
				>
					<svg
						class="w-6 h-6 text-gray-300 group-hover:text-purple-400 transition-colors"
						fill="currentColor"
						viewBox="0 0 24 24"
						aria-hidden="true"
						><path
							fill-rule="evenodd"
							d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"
							clip-rule="evenodd"></path></svg
					>
				</a>
			</div>
		</section>

		<Section id="about">
			<SectionHeader title="The Explorer" />
			<div class="grid md:grid-cols-2 gap-12 items-center">
				<div
					class="space-y-6 text-gray-300 font-light leading-relaxed animate-slide-in-bottom"
				>
					<p class="text-lg">
						Just as climbing requires planning, precision, and trust
						in your gear, backend engineering requires <span
							class="text-white font-medium"
							>architecture, testing, and robustness</span
						>.
					</p>
					<p>
						I specialize in the <strong
							class="text-cyan-300 font-medium"
							>Java Ecosystem</strong
						>, building distributed systems that are as reliable as
						a good anchor. When I'm not optimizing JVM performance,
						I'm likely looking up at the stars or scaling a new
						route.
					</p>
				</div>
				<div
					class="animate-slide-in-bottom delay-100 bg-white/5 p-6 rounded-2xl border border-white/10 hover:border-cyan-500/30 transition-colors"
				>
					<h3
						class="text-white mb-6 font-mono text-sm uppercase tracking-widest border-b border-white/10 pb-2"
					>
						Technical Gear
					</h3>
					<div class="flex flex-wrap gap-2">
						{skills.map((skill) => <Badge text={skill} />)}
					</div>
				</div>
			</div>
		</Section>

		<Section id="experience">
			<SectionHeader title="The Ascent" />

			<div class="relative space-y-0">
				<div
					class="absolute top-0 bottom-0 left-[19px] md:left-1/2 md:-ml-[0.5px] w-px bg-gradient-to-b from-transparent via-white/20 to-transparent dashed-line"
				>
				</div>

				{
					experience.map((job, index) => (
						<div
							class="relative pl-12 md:pl-0 md:grid md:grid-cols-2 md:gap-12 items-start group animate-fade-in-up"
							style={`animation-delay: ${index * 200}ms`}
						>
							<div
								class={`md:text-right text-xs font-mono text-cyan-400/70 py-1 ${index % 2 === 0 ? "md:pr-8" : "md:col-start-2 md:pl-8 md:text-left md:row-start-1"}`}
							>
								{job.date}
							</div>

							<div class="absolute left-0 md:left-1/2 md:-translate-x-1/2 top-1 w-10 h-10 flex items-center justify-center z-10">
								<div class="w-3 h-3 bg-[#020617] border border-cyan-500 rotate-45 group-hover:bg-cyan-500 group-hover:scale-125 transition-all duration-300 shadow-[0_0_10px_rgba(34,211,238,0.3)]" />
							</div>

							<div
								class={`mt-1 ${index % 2 === 0 ? "md:col-start-2 md:pl-8" : "md:col-start-1 md:text-right md:pr-8 md:row-start-1"}`}
							>
								<div class="p-6 rounded-xl bg-white/5 border border-white/5 group-hover:border-cyan-500/20 transition-all group-hover:-translate-y-1 group-hover:shadow-lg hover:bg-white/[0.07]">
									<h3 class="text-white font-bold text-xl tracking-tight">
										{job.role}
									</h3>
									<h4 class="text-purple-300/80 text-sm mb-3 font-mono">
										{job.company}
									</h4>
									<p class="text-gray-400 font-light text-sm leading-relaxed">
										{job.desc}
									</p>
								</div>
							</div>
						</div>
					))
				}
			</div>
		</Section>

		<footer
			class="py-20 text-center text-gray-500 text-xs font-mono animate-fade-in delay-500"
		>
			<div
				class="w-10 h-[1px] bg-gradient-to-r from-transparent via-white/20 to-transparent mx-auto mb-8"
			>
			</div>
			<p>Designed for the Void.</p>
			<p class="mt-2">Built with Astro, Tailwind & TypeScript.</p>
		</footer>
	</main>
</Layout>

<style>
	/* Flight Animation: Bottom-Left to Top-Right */
	@keyframes fly-across {
		0% {
			/* Start off-screen bottom-left */
			/* Rotation: 135deg aligns the downward nose to point Top-Right */
			transform: translate(-20vw, 110vh) rotate(135deg) scale(0.8);
			opacity: 0;
		}
		10% {
			opacity: 0.4;
		}
		90% {
			opacity: 0.4;
		}
		100% {
			/* End off-screen top-right */
			transform: translate(120vw, -20vh) rotate(135deg) scale(0.8);
			opacity: 0;
		}
	}

	.animate-fly-across {
		animation: fly-across 45s linear infinite;
		will-change: transform;
	}

	.dashed-line {
		background-image: linear-gradient(
			to bottom,
			rgba(255, 255, 255, 0.2) 50%,
			transparent 50%
		);
		background-size: 1px 10px;
		background-repeat: repeat-y;
	}
</style>
